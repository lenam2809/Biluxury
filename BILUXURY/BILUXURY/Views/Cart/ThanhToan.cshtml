@model IEnumerable<BILUXURY.Models.CartItem>

@{
    ViewBag.Title = "ThanhToan";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="container-fluid" style="min-height: 350px;">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>
                    Tên sản phẩm
                </th>
                <th>
                    Số lượng
                </th>
                <th>
                    Đơn giá
                </th>
                <th>
                    Thành tiền
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.SanPham.TenSP</td>
                    <td>@item.SoLuong</td>
                    <td>@item.SanPham.Gia</td>
                    <td>@(item.SanPham.Gia * item.SoLuong)</td>
                </tr>
            }

        </tbody>
    </table>
</div>

<hr />
<div class="container">
    @if (User.Identity.IsAuthenticated)
    {
        using (Html.BeginForm("ThanhToan", "Cart", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">
                <h4>Thông tin tài khoản</h4>
                <hr />

                <div class="form-group">
                    <label class="col-md-2">Tên</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" value="@ViewBag.tenkh" name="TenKH" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Địa chỉ</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" value="@ViewBag.diachi" name="DiaChi" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Email</label>
                    <div class="col-md-4">
                        <input type="email" class="form-control" value="@ViewBag.email" name="Email" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Điện thoại</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" value="@ViewBag.phone" name="Phone" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input style="margin-left: 30%; margin-top: 15px;" type="submit" value="Thanh toán" class="btn btn-success" />
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        using (Html.BeginForm("ThanhToan", "Cart", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">
                <h4>Thông tin tài khoản</h4>
                <hr />

                <div class="form-group">
                    <label class="col-md-2">Tên</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" name="TenKH" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Địa chỉ</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" name="DiaChi" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Email</label>
                    <div class="col-md-4">
                        <input type="email" class="form-control" name="Email" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2">Điện thoại</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" name="Phone" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input style="margin-left: 30%; margin-top: 15px;" type="submit" value="Thanh toán" class="btn btn-success" />
                    </div>
                </div>
            </div>
        }
    }
</div>



<button type="button" onclick="location.href='@Url.Action("Index", "Cart")'" class="btn btn-info">Quay lại giỏ hàng</button>



